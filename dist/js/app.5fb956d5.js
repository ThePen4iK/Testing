(function(e){function t(t){for(var s,c,n=t[0],i=t[1],l=t[2],u=0,p=[];u<n.length;u++)c=n[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],s=!0,n=1;n<o.length;n++){var i=o[n];0!==r[i]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=o[0]))}return e}var s={},r={app:0},a=[];function c(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=s,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(o,s,function(t){return e[t]}.bind(null,s));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],i=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var d=i;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0ee2":function(e,t,o){},"119f":function(e,t,o){"use strict";o("f64a")},"1b87":function(e,t,o){"use strict";o("4128")},2325:function(e,t,o){"use strict";o("d195")},"255e":function(e,t,o){"use strict";o("a6d9")},"37ad":function(e,t,o){"use strict";o("3903")},3833:function(e,t,o){"use strict";o("3a1c")},3903:function(e,t,o){},"3a1c":function(e,t,o){},4128:function(e,t,o){},"50ac":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var s=o("7a23");const r={class:"main"};function a(e,t,o,a,c,n){const i=Object(s["A"])("app-header"),l=Object(s["A"])("router-view"),d=Object(s["A"])("app-footer");return Object(s["s"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(i),Object(s["g"])("main",r,[Object(s["i"])(l)]),Object(s["i"])(d)],64)}const c=e=>(Object(s["v"])("data-v-19a28481"),e=e(),Object(s["t"])(),e),n={class:"header"},i={class:"container"},l={key:0,class:"header__wrapper"},d=c(()=>Object(s["g"])("div",{class:"header__icon"},null,-1)),u={class:"header__user"};function p(e,t,o,r,a,c){var p,b;return Object(s["s"])(),Object(s["f"])("header",n,[Object(s["g"])("div",i,[null!==(p=c.userAbout)&&void 0!==p&&p.name?(Object(s["s"])(),Object(s["f"])("div",l,[d,Object(s["g"])("div",u,Object(s["C"])(null===(b=c.userAbout)||void 0===b?void 0:b.name),1)])):Object(s["e"])("",!0)])])}var b=o("5502"),f={name:"AppHeader",computed:{...Object(b["c"])("users",["users"]),userAbout(){var e;return null===(e=this.users)||void 0===e?void 0:e.find(e=>(console.log(e.id===Number(this.$route.params.id)),e.id===Number(this.$route.params.id)))}}},m=(o("119f"),o("d959")),O=o.n(m);const j=O()(f,[["render",p],["__scopeId","data-v-19a28481"]]);var v=j;const h={class:"footer"};function g(e,t,o,r,a,c){return Object(s["s"])(),Object(s["f"])("footer",h)}var _={name:"AppFooter"};o("2325");const I=O()(_,[["render",g],["__scopeId","data-v-37e6103b"]]);var y=I,S={components:{AppFooter:y,AppHeader:v},created(){this.users||"Login"==this.$route.name||this.$router.push("/")}};o("1b87");const F=O()(S,[["render",a]]);var U=F,A=o("6c02");function C(e,t,o,r,a,c){const n=Object(s["A"])("app-login");return Object(s["s"])(),Object(s["d"])(n)}const L=e=>(Object(s["v"])("data-v-e99aa812"),e=e(),Object(s["t"])(),e),T={class:"authorization"},w={class:"container"},V={class:"authorization__wrapper"},k=L(()=>Object(s["g"])("div",{class:"authorization__header"},[Object(s["g"])("p",{class:"authorization__text"},"description")],-1)),M=L(()=>Object(s["g"])("p",{class:"authorization__descr"},"description",-1)),x={class:"authorization__wrap"},D={key:0},$=Object(s["h"])("Auth");function P(e,t,o,r,a,c){const n=Object(s["A"])("login-input"),i=Object(s["A"])("login-button");return Object(s["s"])(),Object(s["f"])("section",T,[Object(s["g"])("div",w,[Object(s["g"])("div",V,[k,Object(s["g"])("form",{onSubmit:t[0]||(t[0]=Object(s["G"])((...e)=>c.checkForm&&c.checkForm(...e),["prevent"])),class:"authorization__form"},[M,Object(s["g"])("div",x,[Object(s["i"])(n,{fields:a.fields,onGetInput:c.validateFields},null,8,["fields","onGetInput"])]),a.flag?(Object(s["s"])(),Object(s["f"])("span",D,"login error")):Object(s["e"])("",!0),Object(s["i"])(i,{class:"authorization__btn"},{default:Object(s["F"])(()=>[$]),_:1})],32)])])])}const z=["type","placeholder","onInput"],N={key:0,class:"form__error"};function q(e,t,o,r,a,c){return Object(s["s"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.fields,(t,o)=>(Object(s["s"])(),Object(s["f"])("div",{class:"form__group",key:t.id},[Object(s["g"])("label",null,[Object(s["g"])("input",{class:"form__input",type:t.type,placeholder:t.placeholder,onInput:t=>e.$emit("getInput",t.target.value,o)},null,40,z)]),!t.validate&&t.activated?(Object(s["s"])(),Object(s["f"])("span",N,"error")):Object(s["e"])("",!0)]))),128)}var B={name:"AppInput",props:{fields:{type:Array,required:!0},type:{type:String,default:"text"},placeholder:{type:String,default:""}},emits:["getInput"]};o("f341");const G=O()(B,[["render",q]]);var J=G;function H(e,t,o,r,a,c){return Object(s["s"])(),Object(s["f"])("button",null,[Object(s["z"])(e.$slots,"default")])}var R={props:{loginButton:{type:String,default:""}}};const E=O()(R,[["render",H]]);var Z=E,K={name:"AppLogin",components:{LoginInput:J,LoginButton:Z},data(){return{flag:!1,fields:[{id:1,type:"text",placeholder:"Username",value:"",activated:!1,validate:!1,pattern:/^[a-zA-Z]+$/},{id:2,type:"tel",placeholder:"Phone Number",value:"",activated:!1,validate:!1,pattern:/^[0-9+\s()x.-]+$/}]}},methods:{...Object(b["b"])("users",["getUsers"]),checkForm(){this.getUsers().then(e=>{console.log(e),this.users.forEach(e=>{e.username===this.fields[0].value&&e.phone===this.fields[1].value?this.$router.push({name:"Main",params:{id:e.id,slug:e.username}}):this.flag=!0})})},validateFields(e,t){const o=this.fields[t];o.value=e,o.validate=o.pattern.test(e),""===o.value?o.activated=!1:o.activated=!0}},computed:{...Object(b["c"])("users",["users"])}};o("255e");const Q=O()(K,[["render",P],["__scopeId","data-v-e99aa812"]]);var W=Q,X={name:"Main",components:{AppLogin:W}};const Y=O()(X,[["render",C]]);var ee=Y;const te={class:"about"},oe={class:"container"},se={key:0,class:"test"},re={key:1,class:"about__wrapper"},ae={class:"aside"},ce={class:"aside__list"},ne={class:"aside__item"},ie=Object(s["h"])("All "),le={class:"aside__item"},de=Object(s["h"])("All Users "),ue={class:"about__content"},pe={key:0,class:"about__list"},be={key:1},fe=["disabled"];function me(e,t,o,r,a,c){const n=Object(s["A"])("select-filter"),i=Object(s["A"])("search-filter"),l=Object(s["A"])("todo-item"),d=Object(s["A"])("app-input"),u=Object(s["A"])("app-modal");return Object(s["s"])(),Object(s["f"])("section",te,[Object(s["g"])("div",oe,[e.isLoading?(Object(s["s"])(),Object(s["f"])("div",se,"Loading...")):Object(s["e"])("",!0),e.todos?(Object(s["s"])(),Object(s["f"])("div",re,[Object(s["g"])("aside",ae,[Object(s["g"])("ul",ce,[Object(s["g"])("li",ne,[Object(s["i"])(n,{options:a.options,modelValue:a.selectSort,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectSort=e)},{default:Object(s["F"])(()=>[ie]),_:1},8,["options","modelValue"])]),Object(s["g"])("li",le,[Object(s["i"])(n,{options:e.usersId,modelValue:a.selectSortUsers,"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectSortUsers=e)},{default:Object(s["F"])(()=>[de]),_:1},8,["options","modelValue"])])]),Object(s["g"])("button",{class:"aside__create",onClick:t[2]||(t[2]=e=>a.modalIsOpen=!0)}," Create Todo ")]),Object(s["g"])("div",ue,[Object(s["i"])(i,{modelValue:a.searchInput,"onUpdate:modelValue":t[3]||(t[3]=e=>a.searchInput=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),c.searchInputTodos.length>0?(Object(s["s"])(),Object(s["f"])("ul",pe,[(Object(s["s"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(c.searchInputTodos,e=>(Object(s["s"])(),Object(s["f"])("li",{class:"about__item",key:e.id},[Object(s["i"])(l,{id:e.id,title:e.title,isCompleted:e.completed},null,8,["id","title","isCompleted"])]))),128))])):(Object(s["s"])(),Object(s["f"])("span",be,"Пусто"))])])):Object(s["e"])("",!0)]),Object(s["i"])(u,{modelValue:a.modalIsOpen,"onUpdate:modelValue":t[7]||(t[7]=e=>a.modalIsOpen=e)},{default:Object(s["F"])(()=>[Object(s["g"])("form",{onSubmit:t[6]||(t[6]=Object(s["G"])((...e)=>c.onSubmit&&c.onSubmit(...e),["prevent"]))},[Object(s["i"])(d,{modelValue:a.fieldsForTodo.userId,"onUpdate:modelValue":t[4]||(t[4]=e=>a.fieldsForTodo.userId=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),Object(s["i"])(d,{modelValue:a.fieldsForTodo.title,"onUpdate:modelValue":t[5]||(t[5]=e=>a.fieldsForTodo.title=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),Object(s["g"])("button",{class:"creat",disabled:!c.check},"Create",8,fe)],32)]),_:1},8,["modelValue"])])}const Oe=["value"],je={value:"All"},ve=["value"];function he(e,t,o,r,a,c){return Object(s["s"])(),Object(s["f"])("select",{class:"select",value:o.modelValue,onChange:t[0]||(t[0]=(...e)=>c.changeOption&&c.changeOption(...e))},[Object(s["g"])("option",je,[Object(s["z"])(e.$slots,"default",{},void 0,!0)]),(Object(s["s"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.options,e=>(Object(s["s"])(),Object(s["f"])("option",{key:e,value:e.value},Object(s["C"])(e.name),9,ve))),128))],40,Oe)}var ge={props:{options:{type:Array,required:!0},modelValue:{type:String,required:!0}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}};o("3833");const _e=O()(ge,[["render",he],["__scopeId","data-v-1756fdf8"]]);var Ie=_e;function ye(e,t,o,r,a,c){return Object(s["s"])(),Object(s["f"])("input",{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),class:"search__input",type:"text",placeholder:"Search..."},null,32)}var Se={name:"SearchFilter",props:{modelValue:{type:String,default:""}}};o("ffd3");const Fe=O()(Se,[["render",ye],["__scopeId","data-v-0f6aaa31"]]);var Ue=Fe;const Ae={class:"article__text"};function Ce(e,t,o,r,a,c){return Object(s["s"])(),Object(s["f"])("article",{class:Object(s["o"])(["article",{completed:o.isCompleted}])},[Object(s["g"])("p",Ae,Object(s["C"])(o.title),1),e.inFavoritedID(o.id)?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["f"])("button",{key:0,class:"article__btn",onClick:t[0]||(t[0]=t=>e.setToFavorite(o.id))}," Add Favorite ")),e.inFavoritedID(o.id)?(Object(s["s"])(),Object(s["f"])("button",{key:1,class:Object(s["o"])(["article__btn",{active:e.inFavoritedID(o.id)}]),onClick:t[1]||(t[1]=t=>e.removeFromFavorite(o.id))}," Remove Favorite ",2)):Object(s["e"])("",!0)],2)}var Le={name:"TodoItem",props:{id:{type:Number,required:!0},title:{type:String,required:!0},isCompleted:{type:Boolean,default:!1}},computed:{...Object(b["c"])("todos",["inFavoritedID"])},methods:{...Object(b["d"])("todos",["setToFavorite","removeFromFavorite"])}};o("aa62");const Te=O()(Le,[["render",Ce],["__scopeId","data-v-2f104f1a"]]);var we=Te;const Ve=e=>(Object(s["v"])("data-v-59e2c971"),e=e(),Object(s["t"])(),e),ke=Ve(()=>Object(s["g"])("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30px",height:"30px"},[Object(s["g"])("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Me=[ke],xe=Ve(()=>Object(s["g"])("h2",{class:"modal__header"},"Create Todo",-1)),De={class:"modal__content"};function $e(e,t,o,r,a,c){return o.modelValue?(Object(s["s"])(),Object(s["f"])("div",{key:0,class:"modal",onClick:t[2]||(t[2]=(...e)=>c.hideModal&&c.hideModal(...e))},[Object(s["g"])("div",{class:"modal__container",onClick:t[1]||(t[1]=Object(s["G"])(()=>{},["stop"]))},[Object(s["g"])("button",{class:"modal__close",onClick:t[0]||(t[0]=(...e)=>c.hideModal&&c.hideModal(...e))},Me),xe,Object(s["g"])("div",De,[Object(s["z"])(e.$slots,"default",{},void 0,!0)])])])):Object(s["e"])("",!0)}var Pe={name:"AppModal",props:{modelValue:{type:Boolean,default:!1}},methods:{hideModal(){this.$emit("update:modelValue",!1)}}};o("f5d4");const ze=O()(Pe,[["render",$e],["__scopeId","data-v-59e2c971"]]);var Ne=ze;const qe={class:"field"},Be=["value"];function Ge(e,t,o,r,a,c){return Object(s["s"])(),Object(s["f"])("div",qe,[Object(s["g"])("input",{type:"text",value:o.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,40,Be)])}var Je={name:"AppInput",props:{modelValue:{type:String,default:""}}};o("37ad");const He=O()(Je,[["render",Ge],["__scopeId","data-v-4b5bb307"]]);var Re=He,Ee={name:"Main",components:{AppInput:Re,AppModal:Ne,TodoItem:we,SearchFilter:Ue,SelectFilter:Ie},data(){return{selectSort:"All",selectSortUsers:"All",searchInput:"",modalIsOpen:!1,fieldsForTodo:{userId:"",title:""},options:[{value:"Completed",name:"Completed"},{value:"Uncompleted",name:"Uncompleted"},{value:"Favorites",name:"Favorites"}]}},created(){this.getTodos()},methods:{...Object(b["b"])("todos",["getTodos","createTodo"]),checkData(){this.getTodos().then(e=>{console.log(e,"component")})},onSubmit(){const e={userId:Number(this.fieldsForTodo.userId),title:this.fieldsForTodo.title};this.createTodo(e).then(e=>{this.fieldsForTodo.userId="",this.fieldsForTodo.title="",this.modalIsOpen=!1,console.log(e.id,"creat todo: id")})}},computed:{...Object(b["c"])("users",["currentUser"]),...Object(b["c"])("todos",["isLoading","todos","usersId","favorites"]),sortedSelectFirst(){return"All"===this.selectSort?this.todos:"Completed"===this.selectSort?this.todos.filter(e=>!0===e.completed):"Uncompleted"===this.selectSort?this.todos.filter(e=>!1===e.completed):"Favorites"===this.selectSort?this.favorites:this.todos},sortedSelectUsers(){return"All"===this.selectSortUsers?this.sortedSelectFirst:this.sortedSelectFirst.filter(e=>e.userId===parseInt(this.selectSortUsers))},searchInputTodos(){return this.sortedSelectUsers.filter(e=>e.title.toLowerCase().includes(this.searchInput.toLowerCase()))},check(){return Object.values(this.fieldsForTodo).every(e=>e.length>0)}}};o("917c");const Ze=O()(Ee,[["render",me],["__scopeId","data-v-89fb58ec"]]);var Ke=Ze;const Qe=[{path:"/",name:"Login",component:ee},{path:"/main/:slug",name:"Main",component:Ke}],We=Object(A["a"])({history:Object(A["b"])("/"),routes:Qe});var Xe=We,Ye=o("bc3a"),et=o.n(Ye);const tt=et.a.create({baseURL:"https://jsonplaceholder.typicode.com/"});var ot=tt;const st=async()=>await ot.get("/users").then(e=>(console.log(e.data,"api users"),e.data));var rt=st;const at=(e,t)=>{e&&t&&localStorage.setItem(e,JSON.stringify(t))},ct=e=>{try{return JSON.parse(localStorage.getItem(e))}catch(t){console.log("localStorage error")}};var nt={name:"users",namespaced:!0,state:{users:null,errors:null,isLoading:!1,currentUser:ct("currentUser")?ct("currentUser"):null},getters:{users(e){return e.users},isLoading(e){return e.isLoading},currentUser(e){return e.currentUser}},mutations:{usersStart(e){e.users=null,e.errors=null,e.isLoading=!0,e.currentUser=null},usersSuccess(e,t){e.users=t,e.isLoading=!1},usersFail(e,t){e.errors=t,e.isLoading=!1},isCurrentUserSuccess(e,t){e.currentUser=t,at("currentUser",e.currentUser)},isCurrentUserFail(e){e.currentUser=null,at("currentUser",null)}},actions:{async getUsers({commit:e}){const t=await rt();return e("usersStart"),e("usersSuccess",t),t},getCurrentUser({commit:e,state:t},{username:o,phone:s}){const r=t.users.find(e=>e.username===o);r&&r.phone===s?e("isCurrentUserSuccess",r):e("isCurrentUserFail")}}};const it=async()=>await ot.get("/todos").then(e=>(console.log(e.data,"todos"),e.data)),lt=async({userId:e,title:t})=>await ot.post("/todos",{userId:e,title:t,completed:!1}).then(e=>(console.log(e.data,"createTodo"),e.data));var dt={getTodos:it,createTodo:lt},ut={name:"todos",namespaced:!0,state:{data:null,errors:null,isLoading:!1,favoritedID:ct("favoritedID")?ct("favoritedID"):[]},getters:{todos(e){return e.data},usersId:e=>[...new Set(e.data.map(e=>e.userId))].map(e=>({name:e,value:e})),errors(e){return e.errors},isLoading(e){return e.isLoading},favorites(e){return e.favoritedID.map(t=>e.data.find(e=>e.id===t))},inFavoritedID:e=>t=>e.favoritedID.find(e=>e===t)},mutations:{todosStart(e){e.data=null,e.errors=null,e.isLoading=!0},todosSuccess(e,t){e.isLoading=!1,e.data=t},todosFail(e,t){e.isLoading=!1,e.errors=t},createPostStart(){},createPostSuccess(e,t){e.data=[...e.data,t]},createPostFail(){},setToFavorite(e,t){e.favoritedID.push(t),at("favoritedID",e.favoritedID)},removeFromFavorite(e,t){e.favoritedID.splice(e.favoritedID.findIndex(e=>e===t),1),at("favoritedID",e.favoritedID)}},actions:{async getTodos({commit:e}){return e("todosStart"),await dt.getTodos().then(t=>{e("todosSuccess",t),console.log("test")})},createTodo({commit:e},t){return e("createPostStart"),new Promise(o=>{dt.createTodo(t).then(t=>{e("createPostSuccess",t),o(t)})})}}},pt=Object(b["a"])({state:{},mutations:{},actions:{},modules:{users:nt,todos:ut}});Object(s["c"])(U).use(pt).use(Xe).mount("#app")},"83c4":function(e,t,o){},"8b78":function(e,t,o){},"917c":function(e,t,o){"use strict";o("50ac")},a6d9:function(e,t,o){},aa62:function(e,t,o){"use strict";o("0ee2")},c15d:function(e,t,o){},d195:function(e,t,o){},f341:function(e,t,o){"use strict";o("83c4")},f5d4:function(e,t,o){"use strict";o("8b78")},f64a:function(e,t,o){},ffd3:function(e,t,o){"use strict";o("c15d")}});
//# sourceMappingURL=app.5fb956d5.js.map